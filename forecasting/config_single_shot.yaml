# Single-shot mode configuration
# Train on historical data, make ONE prediction, evaluate it, and exit

# Mode settings
single-shot: true
csv-file: 3800secs_pattern_rpi.csv   # Or your monthly data CSV
csv-fast: true               # Process as fast as possible

# Model configuration
model: xgboost

# Data source (ignored in CSV mode, but required)
ip: localhost
context: ip.tcppackets
dimension: received

# Model parameters - LONG-TERM PREDICTION
horizon: 50                  # Predict 50 steps ahead (e.g., 50 seconds = ~1 minute)
window: 300                  # Large inference window (5 minutes of data)
train-window: 1000           # Large training window (16+ minutes)
random-state: 42

# Forecasting parameters
prediction-smoothing: 3
prediction-interval: 1.0

# Retraining parameters (not used in single-shot, but required)
retrain-scale: 5.0
retrain-min: 50.0
retrain-consec: 5
retrain-cooldown: 0
no-mad: false

# Backoff parameters (not used in single-shot)
retrain-rapid-seconds: 20
backoff-long-seconds: 30
backoff-max-retrains: 3
backoff-clear-consecutive-ok: 10

# Error-spike retrain parameters (not used in single-shot)
retrain-error-scale: 5.0
retrain-error-min: 100.0

# Aggregation (not used in single-shot)
aggregation-method: weighted
aggregation-weight-tau: 3.0

# Output
quiet: false

# Server - ENABLED for visualization
no-live-server: false
single-shot-skip-live-server: false  # Keep server running to view results

# Example usage:
# python forecast_main.py --config config_single_shot.yaml
#
# This will:
# 1. Load test_pattern.csv
# 2. Train on first 1000 points
# 3. Make ONE prediction for next 50 steps
# 4. Fast-forward 50 steps in CSV
# 5. Calculate MAPE for each predicted step
# 6. Print results and exit
